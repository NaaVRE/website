---
sidebar_position: 1
title: L1 - Co-development
---
Where possible, do the following while building the virtual lab:

* Security
  * Make sure personal tokens for APIs do not end up in version control. ToDo VLIC: Guideline for secret management [#276](https://github.com/QCDIS/projects_overview/issues/276).
* Versioning
  * Pin versions of used software and libraries in the dependencies to prevent compatibility problems when updates occur to the packages and software.
* Data
  * Store data that is only read by the virtual lab in an external catalogue and use an API to access this data.
* Parallelization
  * Parallelize the execution of the parts of the code where this is useful. A tutorial is available [here](https://github.com/QCDIS/lifewatch-notebooks/blob/main/NaaVRE-tutorials/splitting-classic.ipynb).
* Documentation
  * Publish virtual lab metadata outside the virtual lab. This will allow others to be aware of the context of the virtual lab from an early stage.
    * Track the metadata with version control, such that the changes to metadata can be viewed by virtual lab users.
    * Currently, we are choosing a default metadata catalogue. For progress, see issue [#275](https://github.com/QCDIS/projects_overview/issues/275).
  * Create a directory for documentation of the virtual lab.
    * Track the documentation with version control.
  * Start each cell in a notebook with a title.

#### Co-development responsibilities
The following roles should be assigned during co-development:

* Virtual lab owner / Principal investigator: Guides the development of the lab from the scientific viewpoint.
* Virtual lab core developers: One or multiple core developers create a new virtual lab in NaaVRE.
* Virtual lab code reviewer: Provides feedback on the user-friendliness, maintainability, and robustness of the
source code and other assets. We recommend starting with reviews early on in the development process, as this may contribute to a clear architecture, and good code quality.
* Virtual research environment (VRE) development and operations engineers: Support the creation of the new virtual lab
by giving the core development team advice and changing the virtual research environment where necessary.

#### Co-development milestones
Two milestones should be reached during co-development:

* The publication of the metadata.
* A demonstration of a running the workflow in the virtual lab.

### From co-development to the validation phase
To transition from co-development to the validation phase, a usability study should be done.
The usability study should consider at least the following criteria:

* Documentation
  - [ ] The virtual lab metadata is available outside the virtual lab.
    - [ ] Metadata is tracked by version control.
* Security
  - [ ] Personal tokens are not tracked by version control.
* Versioning
  - [ ] Versions of used software and libraries are pinned.
* Codebase
  - [ ] The code executes without errors: The code can be executed without errors.
Currently, you can verify this by manually executing all cells in the notebook on a machine on which the code was not developed (to ensure no references are made to local resources).
  - [ ] The responsibility of each cell in the notebook is clear and can be described in a single sentence.
  - [ ] The coding style is consistent and follows a style guide e.g. For Python [PEP 8](https://peps.python.org/pep-0008/).
  * [ ] Parallel processing is applied where suitable.
* Containerization
  - [ ] The notebook cells can be containerized.
* Workflow execution
  - [ ] The containerized cells can run without any modifications.